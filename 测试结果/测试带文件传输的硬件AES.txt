PS D:\My_Workspace> & C:/Python312/python.exe "d:/My_Workspace/FYP_LESPS_RISCV/Serial File Transport.py"
âœ… Port COM3 is available
ğŸ“ Sending file: testfile.txt (20 bytes)
ğŸ“„ File content: 12345678901234567890
ğŸ”¢ File content (hex): 3132333435363738393031323334353637383930
âœ… Serial port COM3 opened successfully
ğŸ”„ Performing simple handshake with MCU...
ğŸ“¥ MCU: "READY\r\n\r\n===============================================\r\nFile Stream AES CBC Processor\r\n===============================================\r\nOptions:\r\n1. Interactive AES CBC (press 'i')\r\n2. File-based AES CBC (press 'f')\r\n3. File transfer test (press 't')\r\nChoose mode: ğŸ”§ System state: 1\r\n"
âœ… MCU is ready!
ğŸ“¤ Selecting file mode...
âœ… MCU entered file mode successfully
ğŸ“¤ Sending header: SIZE:20
ğŸ“¤ Sending file data...
ğŸ“¤ Progress: 16/20 bytes (80.0%)
ğŸ“¤ Progress: 20/20 bytes (100.0%)
âœ… File sent completely, sending end marker: b'END\n'
ğŸ”„ Waiting for MCU processing...
ğŸ“¥ MCU: âœ… Detected END marker (without newline), stopping reception
ğŸ“¥ MCU: âœ… File reception completed: 31 bytes
ğŸ“¥ MCU: ğŸ“¨ Data preview (first 64 bytes): SIZE:20\n12345678901234567890END
ğŸ“¥ MCU: ğŸ”¢ Hex preview (first 32 bytes): 53 49 5a 45 3a 32 30 0a 31 32 33 34 35 36 37 38 39 30 31 32 33 34 35 36
ğŸ“¥ MCU: 37 38 39 30 45 4e 44 
ğŸ“¥ MCU: ğŸ”§ System state: 4
ğŸ“¥ MCU: ğŸ” Parsing received data (31 bytes)...
ğŸ“¥ MCU: ğŸ“‹ Full data analysis:
ğŸ“¥ MCU:   [  0] 0x53 'S'
ğŸ“¥ MCU:   [  1] 0x49 'I'
ğŸ“¥ MCU:   [  2] 0x5a 'Z'
ğŸ“¥ MCU:   [  3] 0x45 'E'
ğŸ“¥ MCU:   [  4] 0x3a ':'
ğŸ“¥ MCU:   [  5] 0x32 '2'
ğŸ“¥ MCU:   [  6] 0x30 '0'
ğŸ“¥ MCU:   [  7] 0x0a '\n'
ğŸ“¥ MCU:   [  8] 0x31 '1'
ğŸ“¥ MCU:   [  9] 0x32 '2'
ğŸ“¥ MCU:   [ 10] 0x33 '3'
ğŸ“¥ MCU:   [ 11] 0x34 '4'
ğŸ“¥ MCU:   [ 12] 0x35 '5'
ğŸ“¥ MCU:   [ 13] 0x36 '6'
ğŸ“¥ MCU:   [ 14] 0x37 '7'
ğŸ“¥ MCU:   [ 15] 0x38 '8'
ğŸ“¥ MCU:   [ 16] 0x39 '9'
ğŸ“¥ MCU:   [ 17] 0x30 '0'
ğŸ“¥ MCU:   [ 18] 0x31 '1'
ğŸ“¥ MCU:   [ 19] 0x32 '2'
ğŸ“¥ MCU:   [ 20] 0x33 '3'
ğŸ“¥ MCU:   [ 21] 0x34 '4'
ğŸ“¥ MCU:   [ 22] 0x35 '5'
ğŸ“¥ MCU:   [ 23] 0x36 '6'
ğŸ“¥ MCU:   [ 24] 0x37 '7'
ğŸ“¥ MCU:   [ 25] 0x38 '8'
ğŸ“¥ MCU:   [ 26] 0x39 '9'
ğŸ“¥ MCU:   [ 27] 0x30 '0'
ğŸ“¥ MCU:   [ 28] 0x45 'E'
ğŸ“¥ MCU:   [ 29] 0x4e 'N'
ğŸ“¥ MCU:   [ 30] 0x44 'D'
ğŸ“¥ MCU: ğŸ“‹ Detected protocol header
ğŸ“¥ MCU: ğŸ“‹ Declared file size: 20 bytes
ğŸ“¥ MCU: ğŸ“‹ Content starts at position: 8
ğŸ“¥ MCU: ğŸ“‹ Found END marker at position: 28
ğŸ“¥ MCU: ğŸ“‹ Content ends at position: 28
ğŸ“¥ MCU: ğŸ“‹ Actual content length: 20 bytes
ğŸ“¥ MCU: âœ… Successfully extracted 20 bytes (matches declared size)
ğŸ“¥ MCU: --- EXTRACTED FILE CONTENT ---
ğŸ“¥ MCU: ğŸ“¦ File size: 20 bytes
ğŸ“¥ MCU: ğŸ“ Content (hex): 3132333435363738393031323334353637383930
ğŸ“¥ MCU: ğŸ“ Content (text): "12345678901234567890"
ğŸ“¥ MCU: ------------------------------
ğŸ“¥ MCU: ğŸ”§ STARTING AES CBC PROCESSING
ğŸ“¥ MCU: ------------------------------
ğŸ“¥ MCU: --- BLOCK 1 ---
ğŸ“¥ MCU: ğŸ“¦ Block size: 16 bytes
ğŸ“¥ MCU: ğŸ“Š Remaining: 20 bytes
ğŸ“¥ MCU: ğŸ“¥ Input data (hex): 31323334353637383930313233343536
ğŸ“¥ MCU: ğŸ“¦ Padded data (hex): 31323334353637383930313233343536
ğŸ“¥ MCU: ğŸ”„ Current IV (hex): 0102030405060708090a0b0c0d0e0f10
ğŸ“¥ MCU: ğŸ”’ Encrypting block...
ğŸ“¥ MCU: ğŸ” Encrypted (hex): 72443c947273f17c16e48f38205a756d
ğŸ“¥ MCU: ğŸ“¤ Sending encrypted data (Base64 encoded)...
ğŸ“¥ MCU: B64:
ğŸ“¥ MCU: ckQ8lHJz8XwW5I84IFp1bQ==Sent 24 bytes
ğŸ“¥ MCU: ğŸ”“ Decrypting for verification...
ğŸ“¥ MCU: ğŸ“¤ Decrypted (hex): 31323334353637383930313233343536
ğŸ“¥ MCU: ğŸ“Š Progress: 16/20 bytes (80%)
ğŸ“¥ MCU: --- BLOCK 2 ---
ğŸ“¥ MCU: ğŸ“¦ Block size: 4 bytes
ğŸ“¥ MCU: ğŸ“Š Remaining: 4 bytes
ğŸ“¥ MCU: ğŸ“¥ Input data (hex): 37383930
ğŸ“¥ MCU: PKCS#7 Padding:
ğŸ“¥ MCU:         original length = 4,
ğŸ“¥ MCU:         padding value = 0x0c,
ğŸ“¥ MCU:         new length = 16
ğŸ“¥ MCU: ğŸ¯ Final block - Padding applied
ğŸ“¥ MCU: ğŸ“¦ Padded data (hex): 373839300c0c0c0c0c0c0c0c0c0c0c0c
ğŸ“¥ MCU: ğŸ”„ Current IV (hex): 72443c947273f17c16e48f38205a756d
ğŸ“¥ MCU: ğŸ”’ Encrypting block...
ğŸ“¥ MCU: ğŸ” Encrypted (hex): 8945ba9ea7cea79e48629fac4564556a
ğŸ“¥ MCU: ğŸ“¤ Sending encrypted data (Base64 encoded)...
ğŸ“¥ MCU: B64:
ğŸ“¥ MCU: iUW6nqfOp55IYp+sRWRVag==Sent 24 bytes
ğŸ“¥ MCU: ğŸ”“ Decrypting for verification...
ğŸ“¥ MCU: ğŸ“¤ Decrypted (hex): 373839300c0c0c0c0c0c0c0c0c0c0c0c
ğŸ“¥ MCU: PKCS#7 Unpadding:
ğŸ“¥ MCU:         unpadding value = 0x0c,
ğŸ“¥ MCU:         original length = 4
ğŸ“¥ MCU: âœ… Successfully unpadded to 4 bytes
ğŸ“¥ MCU: ğŸ“ Unpadded data (hex): 37383930
ğŸ“¥ MCU: ğŸ“Š Progress: 20/20 bytes (100%)
ğŸ“¥ MCU: ==============================================
ğŸ“¥ MCU: ğŸ“‹ PROCESSING SUMMARY
ğŸ“¥ MCU: ==============================================
ğŸ“¥ MCU: âœ… File processing completed!
ğŸ“¥ MCU: ğŸ“¦ Total blocks processed: 2
ğŸ“¥ MCU: ğŸ“Š Total bytes processed: 20
ğŸ“¥ MCU: --- FINAL DECRYPTED DATA ---
ğŸ“¥ MCU: ğŸ“ Decrypted data (hex): 3132333435363738393031323334353637383930
ğŸ“¥ MCU: ğŸ“ Decrypted data (text): "12345678901234567890"
ğŸ“¥ MCU: --- INTEGRITY VERIFICATION ---
ğŸ“¥ MCU: âœ… Length matches: 20 bytes
ğŸ“¥ MCU: ğŸ‰ SUCCESS: Decrypted data matches original!
ğŸ“¥ MCU: ==============================================
ğŸ“¥ MCU: ğŸ”§ System state: 0
ğŸ“¥ MCU: ğŸ”§ System state: 0
ğŸ“¥ MCU: ğŸ” System reset to idle state
ğŸ“¥ MCU: ğŸ”„ Ready for new session